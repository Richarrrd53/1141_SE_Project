<section class="content-area" id="contentArea">

    {% if role == 'client' %}
    <h1>
        {{ username }}的專案列表
    </h1>
    <button onclick="menuLinkClick(2); return false;" >
        <img src="./img/plus-focus.svg" class="menu-icon" alt=""><span>建立新專案</span>
    </button>
    <table id="contentTable">
        <thead>
            <tr>
                <th>專案名稱</th>
                <th>狀態</th>
                <th>預算</th>
                <th>發布日期</th>
                <th>截止日期</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            {% if not items %}
                <tr>
                    <td colspan="6" style="text-align: center; padding: 20px;">您目前沒有任何專案。</td>
                </tr>
            
            {% else %}
                {% for item in items %}
                    <tr> 
                        <td><a onclick='loadContent("/page/my-projects/read/{{item.id}}")'> {{ item.title }}</a></td>
                        <td><span class="link-{{item.status}}"> {{ item.status_text }}</span></td>
                        <td> {{ item.budget }}</td>
                        <td> {{ item.create_time.strftime('%Y-%m-%d') }}</td>
                        <td> {{ item.deadline_date.strftime('%Y-%m-%d') if item.deadline_date else 'N/A' }}</td>
                        {% if item.status == 'open'%}
                        <td><a onclick='notifyWindow("是否刪除 1 則委託專案？", "刪除", "delete","{{item.id}}", true);'><img src="./img/delete.svg" alt="" class="menu-icon"></a></td>
                        {%endif%}
                    </tr>
                {% endfor %}
            {% endif %}
        </tbody>
    </table>

    {% elif role == 'freelancer' %}
    <h1>市場專案列表</h1>
    <ul id="contentList">
        {% for item in items %}
            <li>
                <a onclick='loadContent("/page/my-projects/read/{{item.id}}")'> {{ item.title }}</a> 
                </li>
        {% else %}
            <li>您目前沒有任何專案。</li>
        {% endfor %}
    </ul>
    {% endif %}
</section>

<div id="loading">
    <div class="jelly-triangle">
        <div class="jelly-triangle__dot"></div>
        <div class="jelly-triangle__traveler"></div>
    </div>

    <svg width="0" height="0" class="jelly-maker">
        <defs>
            <filter id="uib-jelly-triangle-ooze">
                <feGaussianBlur in="SourceGraphic" stdDeviation="7.3" result="blur"></feGaussianBlur>
                <feColorMatrix in="blur" mode="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 18 -7" result="ooze"></feColorMatrix>
                <feBlend in="SourceGraphic" in2="ooze"></feBlend>
            </filter>
        </defs>
    </svg>
    <div class="loading-text" id="loadingText">請稍後...</div>
</div>